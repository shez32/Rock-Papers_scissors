<!DOCTYPE html>
<html>
    <meta charset="UTF-8">
    <head>
        <title>Rock-Papers-Scissors</title>
    </head>
    <body>
        <script>
            
            function computerPlay()
            {
                let choice = Math.floor(Math.random() * Math.floor(3));
                if(choice == 0){
                    return 'rock';
                }
                else if(choice == 1){
                    return 'paper';
                }
                else if(choice == 2){
                    return 'scissors';
                }
            }

            function playerInput()
            {
                let select = prompt("rock paper OR scissors?");
                return select;
            }

            function playRound(playerSelection, computerSelection)
            {
                playerSelection = playerSelection.toLowerCase();
                computerSelection = computerSelection.toLowerCase();
                
                console.log("player: "  + playerSelection);
                console.log("computer : " + computerSelection);

                if(playerSelection == computerSelection)
                {
                    return 0;
                }
                else if(playerSelection == "rock" && computerSelection == "paper")
                {
                    return 2;
                }
                else if(playerSelection == "rock" && computerSelection == "scissors")
                {
                    return 1;
                }
                else if(playerSelection == "paper" && computerSelection == "rock")
                {
                    return 1;
                }
                else if(playerSelection == "paper" && computerSelection == "scissors")
                {
                    return 2;
                }
                else if(playerSelection == "scissors" && computerSelection == "rock")
                {
                    return 2;
                }
                else if(playerSelection == "scissors" && computerSelection == "paper")
                {
                    return 1;
                }
            }
            
            function game()
            {
                let playerScore = 0;
                let computerScore = 0;
                let rounds = prompt("How many rounds?");

                while(rounds > 0)
                {
                    const playerSelection = playerInput();
                    const computerSelection = computerPlay();

                    let point = playRound(playerSelection, computerSelection);
                    
                    if(point == 1)
                    {
                        playerScore++;
                    }
                    else if(point == 2)
                    {
                        computerScore++;
                    }
                    else
                    {
                        //nothing happens. Its a draw!!!
                    } 

                    console.log("player wins : "+playerScore);
                    console.log("computer wins : "+computerScore);

                    rounds--;
                }

                if(playerScore == computerScore)
                {
                    return "IT'S A DRAW!!!";
                }
                else if(playerScore > computerScore)
                {
                    return "PLAYER WINS!!!";
                }
                else if(playerScore < computerScore)
                {
                    return "COMPUTER WINS!!!";
                }
            }

            console.log(game());
            
            </script>
    </body>
</html>